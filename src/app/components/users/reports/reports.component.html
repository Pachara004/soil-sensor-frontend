<div class="container">
  <!-- Back arrow ย้ายออกจาก card -->
  <i class="fas fa-arrow-left back" (click)="goBack()"></i>

  <div class="card">
    <!-- โลโก้หรือไอคอนบนสุด -->
    <div class="logo">
      <h2>ติดต่อ Admin</h2>
    </div>

    <!-- แบบฟอร์มแจ้งปัญหา -->
    <div class="input-group">
      <label>ชื่อเรื่อง</label>
      <input type="text" placeholder="ระบุหัวข้อปัญหา" [(ngModel)]="subject" />
    </div>

    <div class="input-group">
      <label>รายละเอียด</label>
      <textarea placeholder="โปรดระบุรายละเอียดปัญหาที่ต้องการแจ้ง" [(ngModel)]="message"></textarea>
    </div>

    <!-- อัปโหลดรูปภาพ -->
    <div class="input-group">
      <label>รูปภาพประกอบ (ไม่บังคับ)</label>
      <div class="image-upload-container">
        <input type="file" id="imageUpload" accept="image/*" (change)="onImageSelected($event)"
          style="display: none;" />
        <label for="imageUpload" class="upload-btn">
          <i class="fas fa-camera"></i>
          <span>เลือกรูปภาพ</span>
        </label>

        <!-- แสดงรูปภาพที่เลือก -->
        <div class="selected-images" *ngIf="selectedImages.length > 0">
          <div class="image-preview" *ngFor="let image of selectedImages; let i = index">
            <img [src]="image.preview" [alt]="'รูปภาพ ' + (i + 1)" />
            <button type="button" class="remove-image" (click)="removeImage(i)">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <button class="send-btn" (click)="sendReport()" [disabled]="isUploading">
      <span *ngIf="!isUploading">ส่งเรื่อง</span>
      <span *ngIf="isUploading">
        <i class="fas fa-spinner fa-spin"></i>
        กำลังส่ง...
      </span>
    </button>
  </div>
</div>