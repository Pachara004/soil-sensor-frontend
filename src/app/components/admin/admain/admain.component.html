<div class="admin-container">
  <button (click)="logout()" class="logout-btn">ออกจากระบบ</button>

  <div class="card">
    <img src="https://cdn.iconscout.com/icon/premium/png-256-thumb/soil-sensor-4449978-3688706.png"
         class="chip-icon" alt="chip" />

    <div class="top-right-icons">
      <div class="icon-box" (click)="goToUsers()" title="ข้อมูลผู้ใช้">
        <img src="https://www.iconpacks.net/icons/2/free-user-icon-3296-thumb.png" alt="Users" />
        <div class="text">ข้อมูลผู้ใช้</div>
      </div>
      <div class="icon-box" (click)="goToReports()" title="แจ้งเตือน Reports">
        <img src="https://cdn-icons-png.flaticon.com/512/565/565340.png" alt="Reports" />
        <div class="text">ข้อความ</div>
      </div>
    </div>

    <h2 class="admin-name">Admin : {{ adminName }}</h2>

    <div class="device-section">
      <h3>อุปกรณ์ในระบบ</h3>
      <div class="device-list">
        <div class="device-item" *ngFor="let device of devices">
          <div class="device-info">
            <div class="device-name">{{ device.name }}</div>
            <div class="device-user">ผู้ใช้: {{ device.user }}</div>
          </div>
          <button class="view-btn" (click)="viewDevice(device)">ดูข้อมูล</button>
          <button class="view-btn" (click)="deleteDevice(device.name)">ลบ</button>
        </div>
      </div>
    </div>

    <div class="add-device-form">
  <input placeholder="ชื่ออุปกรณ์" [(ngModel)]="newDeviceName" />
  
  <div class="user-input-box">
    <input placeholder="ผู้ใช้"
           [(ngModel)]="newDeviceUser"
           (input)="onUserInput()" />

    <!-- แสดงผลลัพธ์ -->
    <ul class="suggest-list" *ngIf="filteredUsers.length">
      <li *ngFor="let u of filteredUsers" (click)="selectUser(u.username)">
        {{ u.username }}
      </li>
    </ul>
  </div>

  <button class="save-btn" (click)="addDevice()">เพิ่มอุปกรณ์</button>
</div>

  </div>
</div>
